<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Free Fire –ê–ª–º–∞–∑ –ú–∞–≥–∞–∑–∏–Ω</title>
  <style>
    :root{
      --bg1: #0b1220;
      --card: rgba(255,255,255,0.04);
      --accent: #0ea5e9;
      --accent-2: #ff4747;
      --success: #60c78f;
      --danger: #f43f5e;
      --muted: #94a3b8;
    }
    *{box-sizing:border-box}
    body{
      margin:0;
      font-family: Inter, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
      background: linear-gradient(135deg,#0b1220 0%, #071028 100%);
      color:#e6eef6;
      display:flex;
      align-items:center;
      justify-content:center;
      min-height:100vh;
      padding:20px;
    }

    .wrap{
      width:100%;
      max-width:920px;
      display:grid;
      grid-template-columns: 1fr 380px;
      gap:24px;
      align-items:start;
    }

    .panel{
      background:var(--card);
      padding:18px;
      border-radius:12px;
      box-shadow: 0 6px 20px rgba(2,6,23,0.6);
    }

    header{display:flex;justify-content:space-between;align-items:center;margin-bottom:12px}
    header h1{margin:0;font-size:20px;color:var(--accent)}
    .lang-btn{background:transparent;border:1px solid rgba(255,255,255,0.06);color:#e6eef6;padding:8px 10px;border-radius:8px;cursor:pointer}
    .lang-btn:hover{opacity:0.9}

    /* left big panel: product list */
    .cards{display:grid;grid-template-columns:repeat(auto-fill, minmax(220px,1fr));gap:14px}
    .card{
      background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
      padding:12px;border-radius:10px;border:1px solid rgba(255,255,255,0.02);
      display:flex;flex-direction:column;gap:8px;
    }
    .card h3{margin:0;color:#fff;font-size:16px}
    .meta{color:var(--muted);font-size:13px}
    .price{margin-top:auto;font-weight:700;color:var(--accent-2)}
    .buy-tiny{background:var(--accent);color:#042; padding:6px 8px;border-radius:8px;border:none;cursor:pointer}
    .buy-tiny:disabled{opacity:.5;cursor:not-allowed}

    /* right panel: checkout */
    .checkout h2{margin:0 0 8px 0;color:var(--accent)}
    label{display:block;color:var(--muted);font-size:13px;margin-top:10px}
    input[type="text"]{
      width:100%;padding:10px;border-radius:8px;border:1px solid rgba(255,255,255,0.04);
      background:rgba(255,255,255,0.02);color:inherit;font-size:14px;
    }
    .id-row{display:flex;gap:8px;align-items:center}
    .id-row input{flex:1}
    .small-btn{padding:8px 10px;border-radius:8px;border:none;background:var(--accent);color:#fff;cursor:pointer}
    .small-btn.alt{background:transparent;border:1px solid rgba(255,255,255,0.04)}
    .packages{display:grid;grid-template-columns:1fr 1fr;gap:10px;margin-top:10px}
    .pkg{padding:10px;border-radius:8px;border:1px solid rgba(255,255,255,0.03);cursor:pointer;background:linear-gradient(180deg, rgba(255,255,255,0.01), transparent)}
    .pkg.selected{outline:2px solid rgba(14,165,233,0.16);box-shadow:0 6px 16px rgba(14,165,233,0.06)}
    .pkg .title{font-weight:700}
    .pkg .price{color:var(--accent-2);margin-top:6px}
    .pay-btn{width:100%;padding:12px;border-radius:10px;border:none;background:var(--success);color:#042;font-weight:700;margin-top:12px;cursor:pointer;font-size:15px}
    .pay-btn:disabled{opacity:.6;cursor:not-allowed}

    .note{font-size:13px;color:var(--muted);margin-top:8px}
    .error{color:var(--danger);font-weight:700;margin-top:8px}
    .ok{color:var(--success);font-weight:700;margin-top:8px}

    footer.small{grid-column:1/-1;margin-top:10px;color:var(--muted);font-size:13px;text-align:center}

    @media(max-width:880px){
      .wrap{grid-template-columns:1fr;max-width:560px}
    }

  </style>
</head>
<body>
  <div class="wrap">
    <!-- LEFT: Catalog -->
    <div class="panel">
      <header>
        <h1 id="siteTitle">üî• Free Fire –ú–∞–≥–∞–∑–∏–Ω</h1>
        <button class="lang-btn" id="langBtn">–†—É—Å—Å–∫–∏–π / –ö—ã—Ä–≥—ã–∑—á–∞</button>
      </header>

      <p id="intro" style="color:var(--muted);margin-top:6px;margin-bottom:14px">
        –ó–¥–µ—Å—å –ø–æ–∫–∞–∑–∞–Ω—ã –ø—Ä–∏–º–µ—Ä—ã –∞–∫–∫–∞—É–Ω—Ç–æ–≤ –∏ –ø–∞–∫–µ—Ç–æ–≤ ‚Äî –¥–∞–Ω–Ω—ã–µ –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ.
      </p>

      <div class="cards" id="catalog">
        <!-- –∫–∞—Ä—Ç–æ—á–∫–∏ –≥–µ–Ω–µ—Ä–∏—Ä—É—é—Ç—Å—è JS -->
      </div>

      <footer class="small">¬© 2025 Free Fire Shop ‚Äî –í—Å–µ –ø—Ä–∞–≤–∞ –∑–∞—â–∏—â–µ–Ω—ã</footer>
    </div>

    <!-- RIGHT: Checkout -->
    <div class="panel checkout">
      <h2 id="checkoutTitle">–ü–æ–∫—É–ø–∫–∞ –∞–ª–º–∞–∑–æ–≤</h2>

      <label id="labelId">ID –∏–≥—Ä–æ–∫–∞</label>
      <div class="id-row">
        <input type="text" id="playerId" placeholder="–í–≤–µ–¥–∏—Ç–µ Free Fire ID" />
        <button class="small-btn" id="checkIdBtn">–ü—Ä–æ–≤–µ—Ä–∏—Ç—å</button>
      </div>
      <div id="idResult" class="note"></div>

      <label id="labelChoose">–í—ã–±–µ—Ä–∏—Ç–µ –ø–∞–∫–µ—Ç</label>
      <div class="packages" id="packages">
        <!-- –ø–∞–∫–µ—Ç—ã –≥–µ–Ω–µ—Ä–∏—Ä—É—é—Ç—Å—è JS -->
      </div>

      <p id="selectedSummary" class="note">–í—ã–±—Ä–∞–Ω–æ: ‚Äî</p>

      <button class="pay-btn" id="payBtn" disabled>üí≥ –ü–µ—Ä–µ–π—Ç–∏ –∫ –æ–ø–ª–∞—Ç–µ</button>

      <div id="message" style="min-height:28px"></div>
      <p class="note" style="margin-top:10px" id="helpText">–ü–æ—Å–ª–µ –Ω–∞–∂–∞—Ç–∏—è "–ü–µ—Ä–µ–π—Ç–∏ –∫ –æ–ø–ª–∞—Ç–µ" –æ—Ç–∫—Ä–æ–µ—Ç—Å—è –¥–µ–º–æ-–æ–∫–Ω–æ. –†–µ–∞–ª—å–Ω—ã–µ –ø–ª–∞—Ç–µ–∂–∏ –Ω–µ –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è.</p>
    </div>
  </div>

<script>
/* ========= –î–∞–Ω–Ω—ã–µ (–¥–µ–º–æ) ========= */
const ffPlayers = {
  // –ü—Ä–∏–º–µ—Ä—ã ID -> –Ω–∏–∫
  "123456789": "DarkWolf",
  "987654321": "Madara",
  "111222333": "–ñ–∞–Ω—Ç–æ—Ä–æ",
  "222333444": "LionFire",
  "555666777": "Phoenix",
  // –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å —Å–≤–æ–∏ —Ç–µ—Å—Ç–æ–≤—ã–µ ID
};

const catalogAccounts = [
  { id:1, nick:"PRO_BALA99", level:70, diamonds:1500, rank:"Heroic", price:5000, image:"https://i.ibb.co/7rZsHY8/20240914-142912.jpg" },
  { id:2, nick:"KING_SHOT", level:55, diamonds:800, rank:"Master", price:3500, image:"https://i.ibb.co/35ynM2k9/IMG-20250924-WA0021.jpg" }
];

const packagesList = [
  {key:100, label:"100 –ê–ª–º–∞–∑", price:60},
  {key:500, label:"500 –ê–ª–º–∞–∑", price:100},
  {key:1000, label:"1000 –ê–ª–º–∞–∑", price:200},
  {key:1500, label:"1500 –ê–ª–º–∞–∑", price:300},
  {key:2000, label:"2000 –ê–ª–º–∞–∑", price:400},
  {key:2500, label:"2500 –ê–ª–º–∞–∑", price:500},
  {key:3000, label:"3000 –ê–ª–º–∞–∑", price:600},
  {key:3500, label:"3500 –ê–ª–º–∞–∑", price:700},
  {key:4000, label:"4000 –ê–ª–º–∞–∑", price:800},
];

/* ========= –Ø–∑—ã–∫–∏ ========= */
let lang = "ru"; // –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é - —Ä—É—Å—Å–∫–∏–π

const texts = {
  ru: {
    siteTitle: "üî• Free Fire –ú–∞–≥–∞–∑–∏–Ω",
    checkoutTitle: "–ü–æ–∫—É–ø–∫–∞ –∞–ª–º–∞–∑–æ–≤",
    labelId: "ID –∏–≥—Ä–æ–∫–∞",
    idPlaceholder: "–í–≤–µ–¥–∏—Ç–µ Free Fire ID",
    checkBtn: "–ü—Ä–æ–≤–µ—Ä–∏—Ç—å",
    chooseLabel: "–í—ã–±–µ—Ä–∏—Ç–µ –ø–∞–∫–µ—Ç",
    selected: "–í—ã–±—Ä–∞–Ω–æ",
    pay: "üí≥ –ü–µ—Ä–µ–π—Ç–∏ –∫ –æ–ø–ª–∞—Ç–µ",
    helpText: "–ü–æ—Å–ª–µ –Ω–∞–∂–∞—Ç–∏—è \"–ü–µ—Ä–µ–π—Ç–∏ –∫ –æ–ø–ª–∞—Ç–µ\" –æ—Ç–∫—Ä–æ–µ—Ç—Å—è –¥–µ–º–æ-–æ–∫–Ω–æ. –†–µ–∞–ª—å–Ω—ã–µ –ø–ª–∞—Ç–µ–∂–∏ –Ω–µ –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è.",
    idNotFormat: "–û—à–∏–±–∫–∞: ID –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —Ç–æ–ª—å–∫–æ –∏–∑ —Ü–∏—Ñ—Ä (9‚Äì12 —Å–∏–º–≤–æ–ª–æ–≤).",
    idNotFound: "ID –Ω–µ –Ω–∞–π–¥–µ–Ω –≤ –±–∞–∑–µ (–¥–µ–º–æ). –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å.",
    idOk: "ID –Ω–∞–π–¥–µ–Ω. –ù–∏–∫: ",
    choosePackage: "–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤—ã–±–µ—Ä–∏—Ç–µ –ø–∞–∫–µ—Ç.",
    paySuccess: "–£—Å–ø–µ—à–Ω–æ! (–¥–µ–º–æ) ‚Äî —Å–ø–∞—Å–∏–±–æ –∑–∞ –ø–æ–∫—É–ø–∫—É.",
  },
  ky: {
    siteTitle: "üî• Free Fire –î“Ø–∫”©–Ω“Ø",
    checkoutTitle: "–ê–ª–º–∞–∑ —Å–∞—Ç—ã–ø –∞–ª—É—É",
    labelId: "–û—é–Ω—á—É ID",
    idPlaceholder: "Free Fire ID –∂–∞–∑—ã“£—ã–∑",
    checkBtn: "–¢–µ–∫—à–µ—Ä“Ø“Ø",
    chooseLabel: "–ü–∞–∫–µ—Ç —Ç–∞–Ω–¥–∞“£—ã–∑",
    selected: "–¢–∞–Ω–¥–∞–ª–¥—ã",
    pay: "üí≥ –¢”©–ª”©”©–≥”© ”©—Ç“Ø“Ø",
    helpText: "¬´–¢”©–ª”©”©–≥”© ”©—Ç“Ø“Ø¬ª –±–∞—Å–∫–∞–Ω–¥–∞ –¥–µ–º–æ —Ç–µ—Ä–µ–∑–µ –∞—á—ã–ª–∞—Ç. –ß—ã–Ω—ã–≥—ã —Ç”©–ª”©–º –∂“Ø—Ä–≥“Ø–∑“Ø–ª–±”©–π—Ç.",
    idNotFormat: "–ö–∞—Ç–∞: ID —Å–∞–Ω –≥–∞–Ω–∞ –±–æ–ª—É—à—É –∫–µ—Ä–µ–∫ (9‚Äì12 —Ü–∏—Ñ—Ä–∞).",
    idNotFound: "ID —Ç–∞–±—ã–ª–≥–∞–Ω –∂–æ–∫ (–¥–µ–º–æ). –¢–µ–∫—à–µ—Ä–∏–ø –∫–∞–π—Ä–∞ –∂–∞–∑—ã“£—ã–∑.",
    idOk: "ID —Ç–∞–±—ã–ª–¥—ã. –ù–∏–∫: ",
    choosePackage: "–°—É—Ä–∞–Ω—ã—á, –ø–∞–∫–µ—Ç —Ç–∞–Ω–¥–∞“£—ã–∑.",
    paySuccess: "–£—Å–ø–µ—à–Ω–æ! (–¥–µ–º–æ) ‚Äî —Å–∞—Ç—ã–ø –∞–ª–≥–∞–Ω “Ø—á“Ø–Ω —Ä–∞—Ö–º–∞—Ç.",
  }
};

/* ========= –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è UI ========= */
const catalogEl = document.getElementById('catalog');
const packagesEl = document.getElementById('packages');

function renderCatalog(){
  catalogEl.innerHTML = "";
  catalogAccounts.forEach(acc=>{
    const div = document.createElement('div');
    div.className = "card";
    div.innerHTML = `
      <img src="${acc.image}" alt="${acc.nick}" style="width:100%;border-radius:8px;object-fit:cover;height:120px">
      <h3>${acc.nick}</h3>
      <div class="meta">–£—Ä–æ–≤–µ–Ω—å: ${acc.level} ‚Ä¢ –ê–ª–º–∞–∑: ${acc.diamonds}</div>
      <div class="meta">–†–∞–Ω–≥: ${acc.rank}</div>
      <div class="price">${acc.price} —Å–æ–º</div>
      <div style="display:flex;justify-content:space-between;margin-top:8px">
        <button class="buy-tiny" onclick="onQuickBuy(${acc.id})">–ë—ã—Å—Ç—Ä–∞—è –ø–æ–∫—É–ø–∫–∞</button>
        <button class="buy-tiny alt" onclick="viewDetails(${acc.id})">–î–µ—Ç–∞–ª–∏</button>
      </div>
    `;
    catalogEl.appendChild(div);
  });
}

let selectedPackage = null;
function renderPackages(){
  packagesEl.innerHTML = "";
  packagesList.forEach(pkg=>{
    const el = document.createElement('div');
    el.className = "pkg";
    el.dataset.key = pkg.key;
    el.innerHTML = `<div class="title">${pkg.label}</div><div class="price">${pkg.price} —Å–æ–º</div>`;
    el.addEventListener('click', ()=> selectPackage(pkg.key, el));
    packagesEl.appendChild(el);
  });
}

function selectPackage(key, el){
  // —É–±—Ä–∞—Ç—å –≤—ã–¥–µ–ª–µ–Ω–∏–µ —É –≤—Å–µ—Ö
  document.querySelectorAll('.pkg').forEach(p => p.classList.remove('selected'));
  el.classList.add('selected');
  selectedPackage = packagesList.find(p=>p.key===key);
  updateSelectedSummary();
  updatePayButtonState();
}

function updateSelectedSummary(){
  const text = selectedPackage ? `${texts[lang].selected}: ${selectedPackage.label} ‚Äî ${selectedPackage.price} —Å–æ–º` : `${texts[lang].selected}: ‚Äî`;
  document.getElementById('selectedSummary').innerText = text;
}

/* ========= ID –ø—Ä–æ–≤–µ—Ä–∫–∞ ========= */
function isValidIdFormat(id){
  return /^[0-9]{9,12}$/.test(id);
}

function checkId(){
  const id = document.getElementById('playerId').value.trim();
  const msg = document.getElementById('idResult');
  msg.className = "note";
  if(!isValidIdFormat(id)){
    msg.className = "error";
    msg.innerText = texts[lang].idNotFormat;
    updatePayButtonState();
    return false;
  }
  if(ffPlayers[id]){
    msg.className = "ok";
    msg.innerText = texts[lang].idOk + ffPlayers[id];
    updatePayButtonState();
    return true;
  } else {
    msg.className = "error";
    msg.innerText = texts[lang].idNotFound;
    updatePayButtonState();
    return false;
  }
}

/* ========= –ö–Ω–æ–ø–∫–∏: –±—ã—Å—Ç—Ä—ã–π –ø–æ–∫—É–ø–∫–∞ / –¥–µ—Ç–∞–ª–∏ ========= */
function onQuickBuy(accountId){
  // –ó–¥–µ—Å—å –ø—Ä–æ—Å—Ç–æ –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è: –ø—Ä–æ—Å—Ç–∞–≤–∏–º –ø–∞–∫–µ—Ç –ø–æ—Ö–æ–∂–∏–π –Ω–∞ –∞–∫–∫–∞—É–Ω—Ç
  const account = catalogAccounts.find(a=>a.id===accountId);
  if(account){
    // –≤—ã–±–µ—Ä–µ–º –ø–∞–∫–µ—Ç, –∫–æ—Ç–æ—Ä—ã–π –±–ª–∏–∂–µ –ø–æ –∫–æ–ª-–≤—É –∞–ª–º–∞–∑–æ–≤
    let best = packagesList.reduce((prev,cur)=> Math.abs(cur.key - account.diamonds) < Math.abs(prev.key - account.diamonds) ? cur : prev);
    // –Ω–∞–π—Ç–∏ DOM —ç–ª–µ–º–µ–Ω—Ç –ø–∞–∫–µ—Ç–∞
    const pkgEl = [...document.querySelectorAll('.pkg')].find(e => Number(e.dataset.key) === best.key);
    if(pkgEl) selectPackage(best.key,pkgEl);
    // –ø—Ä–æ–∫—Ä—É—Ç–∫–∞ –∫ –ø–∞–Ω–µ–ª–∏ –æ–ø–ª–∞—Ç—ã
    window.scrollTo({top: document.querySelector('.checkout').offsetTop - 20, behavior:'smooth'});
    // –ø—Ä–æ—Å—Ç–∞–≤–∏–º ID (–¥–µ–º–æ) ‚Äî –Ω–µ –∑–∞–ø–æ–ª–Ω—è–µ–º –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
  }
}

function viewDetails(accountId){
  const account = catalogAccounts.find(a=>a.id===accountId);
  if(account){
    alert(`${account.nick}\n–£—Ä–æ–≤–µ–Ω—å: ${account.level}\n–ê–ª–º–∞–∑: ${account.diamonds}\n–†–∞–Ω–≥: ${account.rank}\n–¶–µ–Ω–∞: ${account.price} —Å–æ–º`);
  }
}

/* ========= –ö–Ω–æ–ø–∫–∞ –æ–ø–ª–∞—Ç–∏—Ç—å ========= */
function updatePayButtonState(){
  const payBtn = document.getElementById('payBtn');
  const isIdOk = isValidIdFormat(document.getElementById('playerId').value.trim()) && ffPlayers[document.getElementById('playerId').value.trim()];
  payBtn.disabled = !(isIdOk && selectedPackage);
}

function payNow(){
  const id = document.getElementById('playerId').value.trim();
  const messageEl = document.getElementById('message');
  messageEl.innerHTML = "";
  if(!isValidIdFormat(id)){
    messageEl.className = "error";
    messageEl.innerText = texts[lang].idNotFormat;
    return;
  }
  if(!ffPlayers[id]){
    messageEl.className = "error";
    messageEl.innerText = texts[lang].idNotFound;
    return;
  }
  if(!selectedPackage){
    messageEl.className = "error";
    messageEl.innerText = texts[lang].choosePackage;
    return;
  }

  // –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–æ–Ω–Ω—ã–π —É—Å–ø–µ—à–Ω—ã–π —Å—Ü–µ–Ω–∞—Ä–∏–π (—Ä–µ–∞–ª—å–Ω–æ–π –æ–ø–ª–∞—Ç—ã –Ω–µ—Ç)
  messageEl.className = "ok";
  messageEl.innerText = texts[lang].paySuccess + `\nID: ${id} ‚Äî ${ffPlayers[id]}\n–ü–∞–∫–µ—Ç: ${selectedPackage.label} (${selectedPackage.price} —Å–æ–º)`;
  // —Å–±—Ä–æ—Å –≤—ã–±–æ—Ä–æ–≤ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
  // selectedPackage = null;
  // document.querySelectorAll('.pkg').forEach(p=>p.classList.remove('selected'));
  // updateSelectedSummary();
  // updatePayButtonState();
}

/* ========= –Ø–∑—ã–∫: –∞–≤—Ç–æ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∏ –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å ========= */
function applyTexts(){
  document.getElementById('siteTitle').innerText = texts[lang].siteTitle;
  document.getElementById('checkoutTitle').innerText = texts[lang].checkoutTitle;
  document.getElementById('labelId').innerText = texts[lang].labelId;
  document.getElementById('playerId').placeholder = texts[lang].idPlaceholder;
  document.getElementById('checkIdBtn').innerText = texts[lang].checkBtn;
  document.getElementById('labelChoose').innerText = texts[lang].chooseLabel;
  document.getElementById('payBtn').innerText = texts[lang].pay;
  document.getElementById('helpText').innerText = texts[lang].helpText;
  updateSelectedSummary();
}

document.getElementById('langBtn').addEventListener('click', ()=>{
  lang = (lang === 'ru') ? 'ky' : 'ru';
  applyTexts();
  checkId();
});

document.getElementById('checkIdBtn').addEventListener('click', ()=>{
  checkId();
  updatePayButtonState();
});

document.getElementById('payBtn').addEventListener('click', payNow);

/* –∞–≤—Ç–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —è–∑—ã–∫–∞: –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é —Ä—É—Å—Å–∫–∏–π, –µ—Å–ª–∏ –±—Ä–∞—É–∑–µ—Ä —è–≤–Ω–æ ky -> –∫—ã—Ä–≥—ã–∑—Å–∫–∏–π */
if(navigator.language && navigator.language.startsWith('ky')){
  lang = 'ky';
} else {
  lang = 'ru';
}

/* –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è */
renderCatalog();
renderPackages();
applyTexts();
updateSelectedSummary();
updatePayButtonState();

</script>
</body>
</html>
